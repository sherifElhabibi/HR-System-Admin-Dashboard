<div class="container">
  <div class="row">
    <div class="text-end">
      <button mat-button class="button back-button" (click)="back()">
        <mat-icon>arrow_back</mat-icon>
        Back
      </button>
    </div>
  </div>
  <mat-card class="my-2">
    <mat-card-header>
      <mat-card-title>Edit Phase</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="editPhaseForm">
        <div class="d-flex flex-column flex-md-row justify-cotent-center align-items-center gap-md-2 gap-0">
          <mat-form-field class="col-12 col-md-6">
            <mat-label>Phase Name</mat-label>
            <mat-select matInput [formControlName]="'phaseName'">
              <mat-option value="0">Information Gathering</mat-option>
              <mat-option value="1">Specification</mat-option>
              <mat-option value="2">Project Planning</mat-option>
              <mat-option value="3">Implementation</mat-option>
              <mat-option value="4">Final Test and Delivery</mat-option>
              <mat-option value="5">Maintenance and Support</mat-option>
              <mat-option value="6">Other</mat-option>
            </mat-select>
            <mat-error *ngIf="getPhaseName()?.invalid && getPhaseName()?.touched">
              <small *ngIf="getPhaseName()?.errors?.['required']" class="text-danger">
                Phase Name is required
              </small>
            </mat-error>
          </mat-form-field>
          
          <mat-form-field class="col-12 col-md-6">
            <mat-label>Milestone</mat-label>
            <input matInput [formControlName]="'phaseMilestone'" type="text">
            <mat-error *ngIf="getPhaseMilestone()?.invalid && getPhaseMilestone()?.touched">
              <small *ngIf="getPhaseMilestone()?.errors?.['required']" class="text-danger">
                Milestone is required
              </small>
              <small *ngIf="getPhaseMilestone()?.errors?.['pattern']" class="text-danger">
                 can contain uppercase, lowercase letters, numbers and spaces
              </small>
            </mat-error>
          </mat-form-field>
          
        </div>
        <div class="d-flex flex-column flex-md-row justify-cotent-center align-items-center gap-md-1 gap-0">
          <mat-form-field class="col-12 col-md-4">
            <mat-label>Phase Start Date</mat-label>
            <input matInput [matDatepicker]="phaseStartDatePicker" formControlName="phaseStartDate">
            <mat-datepicker-toggle matSuffix [for]="phaseStartDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #phaseStartDatePicker></mat-datepicker>
            <mat-error *ngIf="getPhaseStartDate()?.invalid && getPhaseStartDate()?.touched">
              <small *ngIf="getPhaseStartDate()?.errors?.['required']" class="text-danger">
                Start Date is required
              </small>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="col-12 col-md-4">
            <mat-label>Phase End Date</mat-label>
            <input matInput [matDatepicker]="phaseEndDatePicker" formControlName="phaseEndDate">
            <mat-datepicker-toggle matSuffix [for]="phaseEndDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #phaseEndDatePicker></mat-datepicker>
            <mat-error *ngIf="getPhaseEndDate()?.invalid && getPhaseEndDate()?.touched">
              <small *ngIf="getPhaseEndDate()?.errors?.['required']" class="text-danger">
                End Date is required
              </small>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="col-12 col-md-4">
            <mat-label>Phase Hour Budget</mat-label>
            <input matInput [formControlName]="'phaseHrBudget'" type="number">
            <mat-error *ngIf="getPhaseHrBudgety()?.invalid && getPhaseHrBudgety()?.touched">
              <small *ngIf="getPhaseHrBudgety()?.errors?.['required']" class="text-danger">
                Phase Hour Budget
              </small>
              <small *ngIf="getPhaseHrBudgety()?.errors?.['pattern']" class="text-danger">
                only contains numbers
                           </small>
            </mat-error>
          </mat-form-field>
          
        </div>
        <div style="display: flex;justify-content: center;">
          <button class="btn btn-primary mt-2" style="width: 15%;background-color: #3a3d6a !important;"
            (click)="editPhase()">Edit Phase</button>
        </div>
        
      </form>
    </mat-card-content>
  </mat-card>
  